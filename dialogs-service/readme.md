## Масштабируемый микросервис диалогов

Микросервис для подсистемы диалогов социальной сети "НаКарантине"

### Модель данных

![Alt text](/sharding/imgs/data_model.png)

Сообщения связаны с чатами связью один-к-одному. 
было заложено, что могут быть групповые чаты, поэтому добавлена сущность (документ) чат
(пока в чате могут участвовать только два человека, но планируется расширить).

Чат содержит в себе название, список пользователей чата. Чатов по-идее не должно быть много,
поэтому их можно не шардировать.

### Описание API

**Чаты:**
- Создание чата
`POST /api/chats`
- Получение списка чатов пользователя
`GET /api/chats/{userId}`
- Изменение названия чата
`PUT /api/chats/chat/{chatId}`
- Удаление чата
`DELETE /api/chats/chat/{chatId}`

TODO:
- добавление пользователя в чат
- удаление пользователя из чата


**Сообщения:**
- Получения сообщений, относящихся к заданному чату 
(начиная с указанного timestamp-a, с заданным максимальным кол-вом сообщений).<br/>
`GET /api/messages?chatId={chatId}&fromDate={fromDate}&count={count}`
- Создание сообщения в заданном чате<br/>
`POST /api/messages?chatId={chatId}&fromDate={fromDate}&date={date}&text={text}`
- Редактирование текста сообщения
`PUT /api/messages/{messageId}`
- Удаление сообщения
`DELETE /api/messages/{messageId}`
